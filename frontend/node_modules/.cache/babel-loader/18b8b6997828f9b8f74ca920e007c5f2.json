{"remainingRequest":"/Users/Toproot/Desktop/FJT/frontend/node_modules/babel-loader/lib/index.js!/Users/Toproot/Desktop/FJT/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/Toproot/Desktop/FJT/frontend/src/store/index.js","dependencies":[{"path":"/Users/Toproot/Desktop/FJT/frontend/src/store/index.js","mtime":1621819765668},{"path":"/Users/Toproot/Desktop/FJT/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Toproot/Desktop/FJT/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Toproot/Desktop/FJT/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9Ub3Byb290L0Rlc2t0b3AvRkpUL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICdodHRwOi8vbG9jYWxob3N0OjgwMDAnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHVzZXJJbmZvOiB7fSwKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSAvLyB1c2VybmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0YXRlLnVzZXJJbmZvLnVzZXJuYW1lJykKCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZChzdGF0ZSkgewogICAgICB2YXIgcmVzdWx0ID0gc3RhdGUudG9rZW4gPyB0cnVlIDogZmFsc2U7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIENSRUFURV9VU0VSOiBmdW5jdGlvbiBDUkVBVEVfVVNFUihzdGF0ZSwgdXNlckluZm8pIHsKICAgICAgc3RhdGUudXNlckluZm8gPSB1c2VySW5mbzsKICAgIH0sCiAgICBBVVRIX1VTRVI6IGZ1bmN0aW9uIEFVVEhfVVNFUihzdGF0ZSwgdG9rZW4pIHsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIH0sCiAgICBMT0dPVVQ6IGZ1bmN0aW9uIExPR09VVChzdGF0ZSkgewogICAgICBzdGF0ZS50b2tlbiA9ICcnOyAvLyB2dWV4IO2GoO2BsCDsp4DsmrDquLAKCiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOyAvLyDroZzsu6zsiqTthqDrpqzsp4Dsl5DshJzrj4Qg7Yag7YGwIOyngOyasOq4sAogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8gcmVzdEFQSeuekSDsl7DqsrAg44Sx44SxCiAgICBDUkVBVEVfVVNFUjogZnVuY3Rpb24gQ1JFQVRFX1VTRVIoX3JlZiwgdXNlckluZm8pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgVVNFUl9DUkVBVEVfVVJMLCBkYXRhLCByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgVVNFUl9DUkVBVEVfVVJMID0gJy9hY2NvdW50cy9zaWdudXAvJzsKICAgICAgICAgICAgICAgIGRhdGEgPSB1c2VySW5mbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoVVNFUl9DUkVBVEVfVVJMLCBkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdDUkVBVEVfVVNFUicsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0FVVEhfVVNFUicsIGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgQVVUSF9VU0VSOiBmdW5jdGlvbiBBVVRIX1VTRVIoX3JlZjIsIHVzZXJJbmZvKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHZhciBBVVRIX1VTRVJfVVJMID0gJy9hcGkvdG9rZW4vJzsKICAgICAgICB2YXIgZGF0YSA9IHVzZXJJbmZvOwogICAgICAgIGF4aW9zLnBvc3QoQVVUSF9VU0VSX1VSTCwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmRhdGEuYWNjZXNzOwogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsgLy8gd2ViIOuhnOy7rOyKpO2GoOumrOyngOyXkCDroZzqt7jsnbjsoJXrs7Qg7KCA7J6lCgogICAgICAgICAgY29tbWl0KCdBVVRIX1VTRVInLCB0b2tlbik7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/Users/Toproot/Desktop/FJT/frontend/src/store/index.js"],"names":["axios","Vuex","Vue","defaults","baseURL","use","Store","state","userInfo","token","localStorage","getItem","getters","isAuthenticated","result","mutations","CREATE_USER","AUTH_USER","LOGOUT","removeItem","actions","commit","dispatch","USER_CREATE_URL","data","post","response","Promise","resolve","AUTH_USER_URL","then","access","window","setItem","modules"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEAF,KAAK,CAACG,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;AAEAF,GAAG,CAACG,GAAJ,CAAQJ,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACK,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFF,CAGL;;AAHK,GADqB;AAM5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,eADO,2BACSN,KADT,EACe;AACpB,UAAMO,MAAM,GAAGP,KAAK,CAACE,KAAN,GAAc,IAAd,GAAqB,KAApC;AACA,aAAOK,MAAP;AACD;AAJM,GANmB;AAY5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,WADS,uBACGT,KADH,EACUC,QADV,EACoB;AAC3BD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACD,KAHQ;AAITS,IAAAA,SAJS,qBAICV,KAJD,EAIQE,KAJR,EAIe;AACtBF,MAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd;AACD,KANQ;AAOTS,IAAAA,MAPS,kBAOFX,KAPE,EAOK;AACZA,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd,CADY,CACK;;AACjBC,MAAAA,YAAY,CAACS,UAAb,CAAwB,OAAxB,EAFY,CAEqB;AAClC;AAVQ,GAZiB;AAwB5BC,EAAAA,OAAO,EAAE;AAAE;AACHJ,IAAAA,WADC,6BACiCR,QADjC,EAC2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA9Ba,gBAAAA,MAA8B,QAA9BA,MAA8B,EAAtBC,QAAsB,QAAtBA,QAAsB;AAC1CC,gBAAAA,eAD0C,GACxB,mBADwB;AAE1CC,gBAAAA,IAF0C,GAEnChB,QAFmC;AAAA;AAAA,uBAGzBR,KAAK,CAACyB,IAAN,CAAWF,eAAX,EAA4BC,IAA5B,CAHyB;;AAAA;AAG1CE,gBAAAA,QAH0C;AAKhDL,gBAAAA,MAAM,CAAC,aAAD,EAAgBK,QAAQ,CAACF,IAAzB,CAAN;AACAF,gBAAAA,QAAQ,CAAC,WAAD,EAAcE,IAAd,CAAR;;AANgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOjD,KARM;AAUPP,IAAAA,SAVO,4BAUeT,QAVf,EAUyB;AAAA,UAApBa,MAAoB,SAApBA,MAAoB;AAC9B,aAAO,IAAIM,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC9B,YAAMC,aAAa,GAAG,aAAtB;AACA,YAAML,IAAI,GAAGhB,QAAb;AACAR,QAAAA,KAAK,CAACyB,IAAN,CAAWI,aAAX,EAA0BL,IAA1B,EACCM,IADD,CACM,UAACJ,QAAD,EAAc;AAClB,cAAMjB,KAAK,GAAGiB,QAAQ,CAACF,IAAT,CAAcO,MAA5B;AACAC,UAAAA,MAAM,CAACtB,YAAP,CAAoBuB,OAApB,CAA4B,OAA5B,EAAqCxB,KAArC,EAFkB,CAE0B;;AAC5CY,UAAAA,MAAM,CAAC,WAAD,EAAcZ,KAAd,CAAN;AACAmB,UAAAA,OAAO;AACR,SAND;AAOD,OAVM,CAAP;AAWD;AAtBM,GAxBmB;AAgD5BM,EAAAA,OAAO,EAAE;AAhDmB,CAAf,CAAf","sourcesContent":["import axios from 'axios'\nimport Vuex from 'vuex'\nimport Vue from 'vue'\n\naxios.defaults.baseURL = 'http://localhost:8000'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    userInfo: {},\n    token: localStorage.getItem('token'),\n    // username: localStorage.getItem('state.userInfo.username')\n  },\n  getters: {\n    isAuthenticated(state){\n      const result = state.token ? true : false\n      return result\n    },\n  },\n  mutations: {\n    CREATE_USER(state, userInfo) {\n      state.userInfo = userInfo\n    },\n    AUTH_USER(state, token) {\n      state.token = token\n    },\n    LOGOUT(state) {\n      state.token = '' // vuex 토큰 지우기\n      localStorage.removeItem('token') // 로컬스토리지에서도 토큰 지우기\n    },\n  },\n  actions: { // restAPI랑 연결 ㄱㄱ\n    async CREATE_USER({ commit, dispatch }, userInfo) {\n      const USER_CREATE_URL = '/accounts/signup/'\n      const data = userInfo\n      const response = await axios.post(USER_CREATE_URL, data)\n  \n      commit('CREATE_USER', response.data)\n      dispatch('AUTH_USER', data)\n    },\n\n    AUTH_USER({ commit }, userInfo) {\n      return new Promise((resolve) => {\n        const AUTH_USER_URL = '/api/token/'\n        const data = userInfo\n        axios.post(AUTH_USER_URL, data)\n        .then((response) => {\n          const token = response.data.access\n          window.localStorage.setItem('token', token) // web 로컬스토리지에 로그인정보 저장\n          commit('AUTH_USER', token)\n          resolve()\n        })\n      })\n    },\n  },\n  modules: {\n  }\n})"]}]}